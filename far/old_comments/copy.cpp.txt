/*
Modify:
  12.07.2006 SVS
    ! kill class int64
  04.07.2006 IS
    - warnings
  23.06.2006 thims
    - Неправильный заголовок консоли при Move (Mantis#0000178)
  01.03.2006 AY
    ! Переделана работа TI#69 - теперь можно выставлять Copy или Inherit.
    - CopySecurityCopy выставлялся при Link
  24.02.2006 AY
    ! (*) Default ( ) Copy ( ) Inherit.
  17.02.2006 WARP
    ! Вернул флаг FILE_FLAG_SEQUENTIAL_SCAN в копир.
  09.02.2006 AY
    - Косметика: разделитель вокруг access rights.
    - Внутренняя переделка диалога копира чтоб было легче обновлять в будущем.
  21.01.2006 AY
    - Косметика: переделал чекбокс access rights в радио кнопки.
  09.12.2005 SVS
    - облажался, блин... вместо Opt.CMOpt.UseSystemCopy залудил Opt.CMOpt.MultiCopy
  08.12.2005 SVS
    - Mantis#44 - Потеря данных при копировании ссылок на папки
    - Mantis#45 - Необходимо привсти копирование ссылок на папки с NTFS на FAT к более логичному виду
  05.10.2005 SVS
    - Проблемы с копированием шифрованных файлов. Полечим путем вывода доп.диалога.
      Возможно строка "SetLastError(_localLastError=ERROR_EFS_SERVER_NOT_TRUSTED);" - лишняя... но все же ;-)
  04.10.2005 SVS
    ! Изменения в CheckDisksProps()
  30.09.2005 SVS
    ! IsSameDisk -> CheckDisksProps (решает проблему с энкриптед файлами между локальными дисками)
  29.09.2005 SVS
    ! ScanTree НЕ должен уметь короткие имена каталогов при рекурсивном спуске, иначе в Dest получим лажу
    ! проверка результата работы SetFilePointer() с параметром про High отличным от NULL делается по другому
  01.08.2005 SVS
    - чей-то не с SetErrorMode сделал :-)
    ! вместо прямого Opt.CMOpt.UseSystemCopy заюзаем флаг FCOPY_USESYSTEMCOPY
    ! для диалога про Encr... Esc должен прервать процесс (т.е. аналогично нажатию Cancel)
  28.07.2005 SVS
    ! see 02034.Mix.txt
  24.07.2005 WARP
    ! see 02033.LockUnlock.txt
  22.07.2005 SVS
    - лажа с массивом в ShellCopy::ShowBar()
  12.07.2005 SVS
    ! опции, ответственные за копирование вынесены в отдельную структуру CopyMoveOptions
    + Opt.CMOpt.CopySecurityOptions - что делать с опцией "Copy access rights"? (набор битов)
  24.06.2005 SVS
    + немного логирования...
  19.06.2005 SVS
    - BugZ#1348 - Не обновляется индикатор копирования при операциях с флешкой
  14.06.2005 SVS
    ! ShellCopy::MoveFileThroughTemp() стала самостоятельной функцией
    + SetRecursiveSecurity() - "отсюда и ниже"
    + GetParentFolder() - получить имя родительского каталога
    + CmpFullPath() - сравнить пути, в отличии от CmpFullNames сравнивает только родительские пути до Src и Dest.
    ! sddata в динамику
  25.04.2005 SVS
    - Copy/Paste, да не то :-(
  24.04.2005 AY
    ! GCC
  24.04.2005 SVS
    ! выделяем стока (размер для строк), скока нужно.
  23.04.2005 KM
    + Добавлено использование фильтра операций
  03.04.2005 SVS
    - ну очень подозрительный кусок...
  01.04.2005 SVS
    - невыставление аатрибутов для копируемых каталогов
  28.03.2005 SVS
    - Трабла с переполнением буфера
  20.12.2004 WARP
    - Были проблемы с установкой FILE_ATTRIBUTE_COMPRESSED по сети (назначение - FAT32).
  14.12.2004 WARP
    - Неверно считалось общее количество файлов в папках в новом диалоге копирования.
  13.12.2004 WARP
    + Проценты в диалоге копирования/перемещения.
    ! "Обработано файлов: %d из %d" при включенном показе общего индикатора.
    ! Диалог копирования шире на 6 символов.
  08.12.2004 SVS
    ! "...т.е. последовательно разрешать шаринг все более другой...."
  04.11.2004 SVS
    ! убираем *_EDITPATH
  06.08.2004 SKV
    ! see 01825.MSVCRT.txt
  26.07.2004 SVS
    - Создатель симлинков убивает файлы
  08.06.2004 SVS
    ! Вместо GetDriveType теперь вызываем FAR_GetDriveType().
    ! Вместо "DriveType==DRIVE_CDROM" вызываем IsDriveTypeCDROM()
  19.05.2004 SVS
    ! вместо "SetFileAttributes(Name,0)" выставим "SetFileAttributes(Name,FILE_ATTRIBUTE_NORMAL)"
      пусть баундчекер не блюет.
  21.04.2004 SVS
    - BugZ#1059 - возможно надо форматирование строки пути улучшить
  16.04.2004 SVS
    - BugZ#1049 - градусник прогресса копирования неправильно инициализируется
    ! для года отдадим 4 цифры (в месаг боксе на перезапись)
  01.03.2004 SVS
    ! Обертки FAR_OemTo* и FAR_CharTo* вокруг одноименных WinAPI-функций
      (задел на будущее + править впоследствии только 1 файл)
  22.10.2003 SVS
    - BugZ#976 - перемещение (F6) папки из корня в ".."
  09.10.2003 SVS
    ! SetFileApisToANSI() и SetFileApisToOEM() заменены на SetFileApisTo() с параметром
      APIS2ANSI или APIS2OEM - задел на будущее
  22.09.2003 SVS
    + CheckUpdatePanel(); выставляет флаг FCOPY_UPDATEPPANEL
    + Если указано несколько таржетов - делаем подсчет _ВСЕГО_, в т.ч.
      если есть Move в несколько целей, то и в заголовке панели делам Copy для первых
      целей и, соответсвтенно, отображаем общий индикатор...
  15.09.2003 SVS
    ! Проверим target на недопустимые символы, перечисленные в ReservedFilenameSymbols
    ! Временно закомментим проверку апдейта пассивной панели.
      Траблы есть, на которыми работаю. Дмуаю скоро победЮ :-(
  12.09.2003 SVS
    - BugZ#947 - Траблы с переименованием по Shift-F6...
      проверим "нужность" апдейта пассивной панели
  04.09.2003 SVS
    ! Вместо юзания CompareFileTime() применим трюк с сортировщиком файлов:
      приведем FILETIME к __int64
  19.07.2003 IS
    + Если цель содержит разделители, то возьмем ее в кавычки, дабы не получить
      ерунду при F5, Enter в панелях, когда пользователь включит MultiCopy
  15.07.2003 VVM
    + При использовании SystemCopyRoutine прогресс так-же рисуется не чаще 5 раз в секунду.
  11.07.2003 SVS
    - Если в целях (multitarget) встречается con или nul, то имеем трабл.
    + CheckNulOrCon() - вынесена часть кода сюды
    - BugZ#641 - rename directory
  15.06.2003 SVS
    - опция "[ ] Копировать содержимое символических связей" и...
      индикатор общего + время не показывается. Ошибка в ShellCopy::CalcTotalSize()
  14.06.2003 SVS
    - Исправлено поведение при переименовании, это когда на пассивной
      панели глобокое вложение того, что удаляем на активной.
    + добавлена опция "[ ] Копировать содержимое символических связей"
    ! соответственно, изменена логика работы копира (подробнее в хелпе @CopyRule)
    ! заблокирована возможность создавать симлинки с локали на сеть -
      все равно в такой каталог не ввалишь (то биш, бага была)
  04.06.2003 SVS
    - не выставлялись атрибуты для копируемого каталога.
  08.05.2003 VVM
    ! При Append забыли про большие файлы :) Используем параметр lpDistanceToMoveHigh
      в функции SetFilePointer.
  30.04.2003 VVM
    + Уберем флаг FILE_FLAG_SEQUENTIAL_SCAN.
      У меня копирование ускорилось процентов на 20%
  30.04.2003 VVM
    + При копировании заголовок окна так-же рисуем 4 раза в секунду
  25.04.2003 VVM
    ! Отменим динамический буфер. Сколько в реестре зададут - столько и будет
  21.04.2003 SVS
    ! В обработчике DN_KEY сделаем "break", а не "return". Логика не
      изменится, но суть поменяется!
  16.04.2003 VVM
    ! Показывать прогресс 4 раза в секунду, вместо одного.
  08.03.2003 SVS
    ! Небольшое уточнение логики диалога (доделано не все... иначе выпуск
      пятерки отложится - незначительный баг в логике не повредит самому
      процессу копирования)
  05.03.2003 SVS
    + _LOGCOPYR() - детальный лог процесса копирования
    - BugZ#636 - Некорректный разбор списка целей копирования
    - BugZ#694 - Не работает копирование на линукс-разделы по сети.
      (добавим диалог предупреждения при неудачной попытке наложить
      атрибуты на dest-каталог)
  20.02.2003 SVS
    ! Заменим strcmp(FooBar,"..") на TestParentFolderName(FooBar)
  26.01.2003 IS
    ! FAR_DeleteFile вместо DeleteFile, FAR_RemoveDirectory вместо
      RemoveDirectory, просьба и впредь их использовать для удаления
      соответственно файлов и каталогов.
    ! FAR_CreateFile - обертка для CreateFile, просьба использовать именно
      ее вместо CreateFile
  16.01.2003 SVS
    - Отметим (Ins) несколько каталогов, ALT-F6 Enter - выделение с папок не снялось.
  30.12.2002 VVM
    - При копировании в несколько каталогов после первого копирования прогресс замораживался.
      Перенесли инициализацию внутрь цикла :)
  21.12.2002 IS
    ! Признак копирования в nul выставим в случаях, когда цель назначения:
       - начинается с "nul\", "\\.\nul\" или "con\"
       - равна "nul", "\\.\nul" или "con"
  17.12.2002 SVS
    - BugZ#728 - непрорисовка во время сканирования директорий при копировании
      (дергается изображение)
  16.12.2002 SVS
    - BugZ#728 - непрорисовка во время сканирования директорий при копировании
  13.12.2002 VVM
    - Не рисовался процент копирования в заголовке окна.
  11.12.2002 SVS
    - BugZ#702 - Не обрабатывается изменение размера консоли во время копирования
    - BugZ#686 - проблемы с отрисовкой окна прогресса копирования
  11.12.2002 VVM
    - Исправлен баг с прорисовкой прогресса при копировании новых файлов
    - Исправлен баг с подсчетом времени/скорости копирования при наличии "пропущенных" файлов
  09.11.2002 SVS
    - траблы с копированием прав под XP. Делаем *Apis*
  14.10.2002 SVS
    - В одном ФАРе выделяем все файлы в каталоге, жмем F6
      В другом (это обычная эмуляция!) удаляем пару файлов из
      каталога, откуда первый ФАР собирается мувить.
      Возвращаемся в первый ФАР и жмем Enter.
      Когда нарываемся на файло который удалили во втором ФАРе,
      то на экране видим... бардак с дистинейшеном (вместо
      имени - мусор).
  19.09.2002 VVM
    ! Поломали прогресс при системной функции копирования
  18.09.2002 VVM
    ! Корректировка алгоритма подсчета времени копирования.
  14.09.2002 VVM
    + Прогресс копирования показывать не чаще 1 раза в секунду.
    + По умолчанию буфер копирования 64к. Макс. размер по умолчанию 512 к.
  15.08.2002 IS
    ! DestList.Start -> DestList.Reset
    + DestList - применяется ULF_UNIQUE, для исключения дублей
  12.07.2002 SVS
    - Хардлинки не создавались на мапленных сетевых NTFS-дисках
      (хотя ЭТО ВОЗМОЖНО!)
      Есть лажа одна. Связанная с логикой. Недодумал. Как - пока не знаю.
      Смысл: Симлинки делаются, но иногда указывают в никуда (про сеть!)
      Рулить в ShellCopy::LinkRules()
  02.07.2002 SVS
    - BugZ#522 - Refreshing panels after renaming directory (changing its register)
  18.06.2002 SVS
    ! Функция IsFolderNotEmpty переименована в CheckFolder
  18.06.2002 VVM
    ! ShellSetAttr: Даже если не смогли получить информацию о томе - попытаемся выставить атрибуты
      У меня на новеловском томе при UNC-пути почему-то обламывается GetVolumeInformation()
  15.06.2002 IS
    - Баг: копирование не производилось, если не было диалога подтверждения
  10.06.2002 SVS
    + DIF_EDITPATH (FIB_EDITPATH)
    - BugZ#556 - Баг переноса файлов на NWFS
  30.05.2002 SVS
    - Ошибка при формировании имени для создания линка
  28.05.2002 SVS
    - BugZ#534 - копирование файлов с сетевых шар
  25.05.2002 IS
    + CmpFullNames: всегда работаем с реальными _длинными_ именами, в
      результате чего отлавливается ситуация, когда
      Src="D:\Program Files\filename"
      Dest="D:\PROGRA~1\filename"
      ("D:\PROGRA~1" - короткое имя для "D:\Program Files")
      считается, что имена тоже одинаковые, а раньше считалось,
      что они разные (функция не знала, что и в первом, и во втором случае
      путь один и тот же)
    ! CmpFullNames: "велосипед" заменен на DeleteEndSlash
    ! CmpFullNames: убираем всю самодеятельность по проверке имен с разным
      регистром из функции прочь, потому что это нужно делать только при
      переименовании, а функция вызывается и при копировании тоже. Все это
      должно обрабатываться не в ней, а там же, где и RenameToShortName.
      Теперь функция вернет 1, для случая имен src=path\filename,
      dest=path\filename (раньше возвращала 2 - т.е. сигнал об ошибке).
    + MoveFileThroughTemp - функция переименования файла, которая сработает
      даже для случая, когда переименовываем самого в себя (на основе
      предложенного SVS способа - обертка вокруг MoveFile).
    ! Теперь FAR умеет переименовывать и файлы, и _каталоги_ в короткое
      имя (для этого используется MoveFileThroughTemp).
    ! внедрение const и ссылок
    - ShellCopyConvertWildcards меняла то, что нельзя было менять
  24.05.2002 SVS
    ! отм...
  24.05.2002 SVS
    + BugZ#521 - Попытка переименовать abcdefghi.txt в abcdef~1.txt
  18.05.2002 SVS
    ! В операции перемещения (F6) в "nul" или "con" удаления файлов не производится.
  15.05.2002 SVS
    ! Поправим копир на предмет "некопирования в сетевые симлинки"
  06.05.2002 VVM
    - При подтверждении прерывания копирования скорректируем время копирования :)
  26.04.2002 SVS
    - BugZ#484 - Addons\Macros\Space.reg (про заголовки консоли)
  24.04.2002 VVM
    - На новеловском томе не работало перемещение папки.
      Логика: Если не смогли переместить папку - попытаемся просто создать
              пустую на новом месте.
  18.04.2002 SVS
    - Ошибка при создании симлинка из дерева для корня (C:\, например)
      В этом случае применяется операция монтирования диска и, если таржед
      не задан - применяется стд. имя "Disk_%c"
  08.04.2002 SVS
    - BugZ#440 - Самопроизвольное снятие RO-атрибута при Append
  05.04.2002 SVS
    - BugZ#430 - Создание хардлинков
    - небольшая бага в интерфейсе (количество кнопок неверно указывалось
      для случая, когда есть RO-файл и ненужен аппенд)
  01.04.2002 SVS
    - BugZ#376 - При попытке переноса каталога в пределах одного сетевого
      диска получаем сообщение об ошибке
  28.03.2002 SVS
    ! Если на обоих панелях одинаковый каталог, то F6 аналогично Shift-F6,
      т.е. в строке ввода отображается имя файла.
    ! Немного const
  28.01.2002 VVM
    ! Слэш не будем добавлять, если Dest является маской...
  26.03.2002 DJ
    ! ScanTree::GetNextName() принимает размер буфера для имени файла
  23.03.2002 VVM
    ! Уберем дырку по совету DJ. bug#390
  23.03.2002 IS
    + При копировании только элемента под курсором берем его имя в кавычки,
      если оно содержит разделители.
  22.03.2002 SVS
    - strcpy - Fuck!
  19.03.2002 VVM
    - Уберем отрицательное время копирования. Может возникнуть при
      дозаписи файла в момент копирования.
  18.03.2002 SVS
    - В NT4 не создавались жесткие связи для каталогов
      (вернее для файлов в каталогах)
    - нельзя скопировать файл в подкаталог с другим именем
      (не создавалась структура)
  02.03.2002 KM
    ! Достало: при большом объёме копирования (часто винт на винт)
      при попадании залоченных файлов (а они обязательно попадаются
      на системном диске) выскакивает "Retry Skip Cancel", так вот
      когда всё равно нужно скопировать оставшиеся файлы надоедает
      жать Skip постоянно, поэтому добавлено Skip all.
  02.03.2002 SVS
    ! Копирование в "con" аналогично копированию в "nul".
  11.02.2002 SVS
    ! Нефига юзать "Copy access rights" при копировании на плагиновую панель.
      Хотя... тут можно уточнить про REALFILES
    + Выставим SetErrorMode() для того, чтобы сраные винды не лезли со своими
      гуевыми месагами (хотя, блин, все равно лезут, но редко :-))
  16.01.2002 SVS
    - подлянка с FILE_ATTRIBUTE_ENCRYPTED
  14.01.2002 IS
    ! chdir -> FarChDir
  28.12.2001 SVS
    ! Правка с учетом изменений структур (про анонимный union)
  28.12.2001 SVS
    ! попытка устранить мертворожденность опции "[ ] Only never..."
  19.12.2001 VVM
    ! Не сканируем каталоги при создании линков
  11.12.2001 SVS
    - BugZ#171 - Ошибка в [x] Process multiple destinations
  06.12.2001 VVM
    + Сбрасывание выделения только при флаге FCOPY_COPYLASTTIME
  16.11.2001 SVS
    - ОЧепятка в ShellCopy::GetSecurity "sa->nLength=sizeof(sa);"
                                                            ^^ это указатель!
  01.11.2001 SVS
    - F5, F10, Esc - все оби, а вот: F5, давить мышой на пимпу "F10 - Tree",
      Esc - вот здесь бяка :-(
      Причина - кнопка вызова дерева закрывала диалог.
  29.10.2001 SVS
    ! временно отменим проверку на потоки, т.к. не совсем доделано
  24.10.2001 SVS
    + выставим дополнительный параметр у FolderTree - "ЭТО НЕ ПАНЕЛЬ!"
  22.10.2001 SVS
    - Артефакт с прорисовкой после внедрения CALLBACK-функции (когда 1 панель
      погашена - остается кусок месагбокса)
  21.10.2001 SVS
    + CALLBACK-функция для избавления от BugZ#85
  17.10.2001 SVS
    ! Внедрение const
  16.10.2001 SVS
    + проверка очередного монстрика на потоки - для случая когда:
      1) не включена системная функция копирования
      2) это NT
      3) диск назначения не NTFS
  15.10.2001 SVS
    - strncpy - начало пробелем :-)
      "посмотрите на разделительную линейку между прогресс-индикаторами"
       (во время копирования)
  13.10.2001 IS
    + При мультикопировании добавляем выбранный в "дереве" каталог к уже
      существующему списку через точку с запятой.
    - Баг: при мультикопировании выбранный в "дереве" каталог не заключался
      в кавычки, если он содержал в своем имени символы-разделители.
    - Баг: неправильно работало Shift-F10, если строка ввода содержала
      слеш на конце.
    - Баг: неправильно работало Shift-F10 при мультикопировании - показывался
      корневой каталог, теперь показывается самый первый каталог в списке.
  18.09.2001 SVS
    + добавляем "хоткей" для строки ввода пути назначения.
  12.09.2001 SVS
    - BugZ#15: Рекурсивное копирование Junction каталога самого на себя.
      В функции ShellCopy::CmpFullNames() вместо ConvertNameToFull()
      используем новую функцию ConvertNameToReal(), которая возвращает
      полный реальный путь с учетом reparse point в Win2K.
  15.08.2001 SVS
    - Бага - Win2K. создание хардлинков. несколько объектов (не каталогов)
      - забыл снять дизабле флаг с кнопки Link.
      Плюс к этому - криво работал SameDisk без учета симлинков.
  03.08.2001 IS
    + Новая опция для мультикопирования в диалоге и соответствующая ее
      обработка.
    ! Замена в нескольких местах CopyDlg[2].Data -> CopyDlgValue
    ! Убрал "#ifndef COPY_NOMULTICOPY", т.к. теперь опциональность
      обеспечивается на программном уровне.
  22.07.2001 SVS
    ! Избавляемся от варнингов
  18.07.2001 VVM
    + Если не удалось переименовать каталог - сказать об этом пользователю
      и спросить - "что делать?"
  27.06.2001 SVS
    - неверная работа мультикопи.
  19.06.2001 SVS
    ! Учтем возможности файловой системы при выставлении target-атрибутов
  07.06.2001 IS
    - Баг (в обработке имени): нужно сначала убирать пробелы, а только потом
      кавычки
  06.06.2001 tran
    *  инициализация NULL должна быть ДО ЛЮБЫХ Return из конструктора...
       падало на ".."
  02.06.2001 IS
    ! #define COPY* -> enum
    + Коректная (надеюсь) обработка списка целей с учетом кавычек
    + Проверка списка целей на корректность
    ! Некоторые манипуляции из-за мультикопирования делаются для каждой цели
      отдельно
  01.06.2001 SVS
    ! С FAT&CDFS -> NTFS можно делать symlink! Но при условии, что
      CD монтирован на NTFS!!!
  30.05.2001 SVS
    ! ShellCopy::CreatePath выведена из класса в отдельню функцию
    ! полностью переработанный конструктор класса
    ! коррекция языка - про окончания при копировании нескольких объектов
    + МультиКопи.
  26.05.2001 OT
    - Исправление наведенного NFZ-бага - не отрсовка в диалогах копирования, удаления...
  18.05.2001 DJ
    + #include "colors.hpp"
  17.05.2001 SKV
    - fix GetTimeText на предмет часов.
  07.05.2001 SVS
    ! Для Move на _том же_ диске отключаем Total
  06.05.2001 DJ
    ! перетрях #include
  29.04.2001 ОТ
    + Внедрение NWZ от Третьякова
  24.04.2001 VVM
    ! При подсчете времени копирования игнорировать время простоя (в диалогах)
  08.04.2001 SVS
    ! Создание линков только под NT - о чем честно и предупредим.
    + Отладочный код для создания repase point. Просьба в нем пока не
      ковыряться - внес сейчас, т.к. тяжко каждый раз copy.cpp перелапачивать.
      Этот код сейчас отключен!
  05.04.2001 IS
    + Если при копировании/перемещении выделенных элементов больше 1 и среди
      них есть каталог, то всегда делаем так, чтобы на конце был '\\', чтобы
      не было все свалено в кучу :(
  14.03.2001 SVS
    + Зарезервирован кусок кода для создания SymLink для каталогов.
  12.03.2001 SVS
    ! Коррекция в связи с изменениями в классе int64
  06.03.2001 SVS
    ! Немного оптимизации в "индикаторе скорости" + добавка для 'Gb'
  27.02.2001 VVM
    ! Символы, зависимые от кодовой страницы
      /[\x01-\x08\x0B-\x0C\x0E-\x1F\xB0-\xDF\xF8-\xFF]/
      переведены в коды.
  12.02.2001 VVM
    - При включенном TotalCopyIndicator и показе CPS размер показывается 1 раз :)
  06.02.2001 SKV
    - char SelNameShort[NM];, а не char SelNameShort[40];
  30.01.2001 VVM
    + Показывает время копирования,оставшееся время и среднюю скорость.
      Зависит от настроек в реестре CopyTimeRule
  25.01.2001 IS
    - Не очень правильно обрезалось имя в диалоге копирования/перемещения
  17.01.2001 SVS
    ! Не для NT - задисаблим опцию про копирование права.
  01.01.2001 VVM
    + Размер буфера для копирования берется из реестра.
  30.12.2000 SVS
    - При копировании/переносе забыли выставить FILE_ATTRIBUTE_ENCRYPTED
      для каталога, если он есть
    ! Опция "[ ] Только новые/обновленные файлы" теперь не "прячется", а
      просто задисаблена
  14.12.2000 SVS
    + Copy to "NUL"
  03.11.2000 OT
    ! Введение проверки возвращаемого значения
  02.11.2000 OT
    ! Введение проверки на длину буфера, отведенного под имя файла.
  23.10.2000 VVM
    + Динамический буфер копирования
  21.10.2000 SVS
    + Проинициализируем новую переменную Copy_Buffer_Size в стандартное
      значение = 64К
  11.10.2000 SVS
    ! Если Dest-панель плагиновая, то не показываем "[ ] Only never..."
  14.08.2000 SVS
    ! Данные, усеченные до 40 символов... :-(
      А потом используются (CopyDlg[2].Data) по полной программе...
  09.08.2000 KM
    ! Добавлена проверка на режим перемещения диалога
      в ShellCopy::ShellCopy, чтобы избежать в этом режиме
      возможность вызова дерева каталогов.
  04.08.2000 SVS
    + Опция "Only newer file(s)"
  01.08.2000 tran 1.05
    + DIF_USELASTHISTORY в диалогах
  31.07.2000 SVS
    + Расширение переменных среды для строки ввода в диалоге Copy/Move!
  13.07.2000 SVS
    ! Некоторые коррекции при использовании new/delete/realloc
  11.07.2000 SVS
    ! Изменения для возможности компиляции под BC & VC
  03.07.2000 IS
    ! Показывать проценты спереди при копировании/переносе
  25.06.2000 SVS
    ! Подготовка Master Copy
    ! Выделение в качестве самостоятельного модуля
*/

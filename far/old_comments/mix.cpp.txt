/*
Modify:
  25.08.2006 SVS
    ! уточнение FarChDir() (Mantis#190)
  12.07.2006 SVS
    ! kill class int64
  05.07.2006 IS
    - warnings
  03.07.2006 SVS
    ! _MakePath1() доп параметр. TRUE - как на панели. FALSE - без учета вида панели (короткие имена или полные)
  28.04.2006 SVS
    - облажался, блин.
  28.04.2006 AY
    - ExpandEnvironmentStr - ёптыть с этими OEM2ANSI и обратно.
      Теперь эта функция перекодирует тока реальные %var% и не трогает остальной текст.
  23.04.2006 AY
    - FarChDir - не всегда выставлялись переменные типа =DriveLetter:
  25.03.2006 AY
    - %var% не обрабатывались вообще в параметрах ком строки
  20.02.2006 SVS
    ! У ConvertNameToShort новый параметр - размер для Dest
  21.01.2006 AY
    ! В прошлый раз поломал переход по коротким путям.
  17.01.2006 SVS
    - Mantis#69 - Падение при нестандартных настройках безапастности для сетевых папок
  05.12.2005 AY
    ! FarChDir - косметическая корректировка пути при переходе по относительным путям
    + PrepareDiskPath понимает UNC пути (\\computer\share)
  05.10.2005 SVS
    ! Убираем Opt.NetSupportEncryption. С учетом последних изменений в копире - не нужна
  04.10.2005 SVS
    ! Изменения в CheckDisksProps()
  30.09.2005 SVS
    + CheckDisksProps() - функция проверки 2-х файловых систем
  29.09.2005 SVS
    ! последние параметры GetDirInfo() => флаг
  09.09.2005 SVS
    ! Функционал получения имени компьютера по текущему пути вынесен в
      отдельную функцию CurPath2ComputerName()
  23.07.2005 SVS
    - лажа в CreatePath
  24.04.2005 AY
    ! GCC
  23.04.2005 KM
    ! Подсчёт файлов и каталогов в GetDirInfo с учётом фильтра операций
  06.04.2005 AY
   ! PartCmdLine() - убираю вообще Remove*() после Unquote() так как это является
     лишней интеллигенцией, например файл "ааа .exe" могут запустить как "ааа ".
   ! PartCmdLine() - Меняем вызов RemoveExternalSpaces() на RemoveTrailingSpaces()
     после того как Unquote() имя экзешника. Вполне легальное имя файла " .exe",
     а вот в конце пробелы уже быть не могут.
   ! PartCmdLine() - первый пробел между командой и параметрами не нужен,
     он добавляется заново в Execute.
   - Убрал в PartCmdLine() добавку пробела если / отделяет exe от параметров
     это вроде как остатки прошлого, нафиг нам это надо.
  03.03.2005 SVS
    ! Изменен алгоритм CreatePath()
    + Ctrl-[] формирует корректное значение пути в панели дерева
  11.11.2004 SVS
    + _MakePath1()
  06.08.2004 SKV
    ! see 01825.MSVCRT.txt
  14.06.2004 SVS
    + UnExpandEnvString() и PathUnExpandEnvStr().
      Функции закомменчены, т.к. пока сейчас непотребны, а в будущем - чтобы не потерялись
  08.06.2004 SVS
    ! Вместо GetDriveType теперь вызываем FAR_GetDriveType().
    ! Вместо "DriveType==DRIVE_CDROM" вызываем IsDriveTypeCDROM()
  20.05.2004 SVS
    ! классы UndoGlobalSaveScrPtr и RefreshFrameManeger переехали в RefreshFrameManager.?pp
  17.05.2004 SVS
    - BugZ#1073 - "File not found" при смене директории.
  06.05.2004 SVS
    + PartCmdLine()
    + ProcessOSAliases() - пока пустышка. Введена для того, чтобы потом рыть только в одном месте - здесь.
  01.03.2004 SVS
    ! Обертки FAR_OemTo* и FAR_CharTo* вокруг одноименных WinAPI-функций
      (задел на будущее + править впоследствии только 1 файл)
  09.02.2004 SVS
    + SaveAllCurDir/RestoreAllCurDir - сохранение/восстановление переменных среды типа "=A:"
  27.10.2003 SVS
    - Падение ФАРа при запуске в случае недоступности примонтированного диска.
  26.10.2003 KM
    - Исправление ошибки переполнения буфера в Transform.
    ! Изменение входных параметров и логики трансформирования в Transform.
  20.10.2003 SVS
    - FSF.FarRecursiveSearch, не может найти файл если в качестве маски задано
      его короткое имя.
      проверим так же и альтернативное имя
  09.10.2003 SVS
    ! SetFileApisToANSI() и SetFileApisToOEM() заменены на SetFileApisTo() с параметром
      APIS2ANSI или APIS2OEM - задел на будущее
  24.09.2003 KM
    - Transform() некорректно преобразовывала из hex в строку.
  23.09.2003 KM
    + Transform() - преобразует строку в hex представление и обратно.
  12.09.2003 SVS
    ! уточнение логики CheckFolder, т.к. конструкция
      GetPathRootOne(Path,FindPath);
      if(GetFileAttributes(FindPath)!=0xFFFFFFFF)
        return CHKFLD_EMPTY;
      предполагалась для корневого каталога, но работала в т.ч. и для
      несушествующей папки.
    - BugZ#951 - падает при работе с длинным(?) dns-именем
  02.09.2003 SVS
    ! Очередное уточнение CheckFolder() - думаю последнее :-)
  02.09.2003 SVS
    ! Мля, турдно быть тупорылым :-(
      Удаляем нафиг FolderContentReady - ведь есть же CheckFolder!!!
    ! У CheckFolder - параметр есть "const"
  02.09.2003 SVS
    ! У функции CheckShortcutFolder добавился параметр Silent - чтобы сработать тихо :-)
    + Новая функция FolderContentReady(const char *Dir) - возвращает TRUE, если
      контент каталога можно "прочитать"
    - BugZ#743 - Переход на недоступный подмапленный диск не сообщает об ошибке
      Перед вызовом SetCurrentDirectory() "проверим" каталог новой
      функцией FolderContentReady()
  21.08.2003 SVS
    - BugZ#933 - команда CD с длинным параметром
  15.06.2003 SVS
    ! Дадим понять GetDirInfo - нужно или нет сканировать симлинки!
      (добавлен еще один параметр)
  14.06.2003 SVS
    ! FRS_SCANJUNCTION -> FRS_SCANSYMLINK
  14.06.2003 SVS
    ! Для FRS_SCANJUNCTION только младший байт!
    ! Исправлена функция CheckUpdateAnotherPanel - были траблы с удалением:
      Активная_панель         Пассивная_панель
      D:\FAR\1                D:\FAR\170
      Если удаляем на активной '1', то пассивная тоже обновляется :-(
      причем становится равной активной, т.е. D:\FAR
  06.06.2003 SVS
    ! GetFileOwner уехала из mix.cpp в fileowner.cpp
  01.06.2003 SVS
    ! В FarRecursiveSearch() учтем новый параметр конструктора ScanTree - FRS_SCANJUNCTION.
  17.04.2003 SVS
    + IsLocalRootPath()
  26.01.2003 IS
    ! FAR_CreateFile - обертка для CreateFile, просьба использовать именно
      ее вместо CreateFile
  06.01.03 SVS
    ! Восстановим в правах SaveScreen в GetDirInfo (в нужный час GlobalSaveScrPtr
      сделает Discard буферу сохранения - в GetInputRecord при обработке эвента
      WINDOW_BUFFER_SIZE_EVENT)
  21.12.2002 SVS
    - баги с прорисовкой, при вызове GetDirInfo
    ! Добавим параметр DontRedrawFrame в функцию GetDirInfo -
      "не рефрешить панели!"
  17.12.2002 SVS
    - BugZ#736 - падение фара на старте при включенном QView
      Учтем тот факт, что манагер еще не работает!
    - BugZ#728 - непрорисовка во время сканирования директорий при копировании
      (дергается изображение)
  11.12.2002 SVS
    - учтем вариант с KEY_CONSOLE_BUFFER_RESIZE (динамическое изменение размера консоли)
    - В PR_DrawGetDirInfoMsg была бага - вместо Param2 стояло Param1
    ! В ConvertDate() сократим вызов sprintf`а
  07.11.2002 IS
    + FarChDir: принудительно меняем все / на \ (попытка побороть bugz#568)
  13.10.2002 IS
    - баг в Add_PATHEXT: Переписано заново с учетом того, чтобы избавиться
      от strstr и GetCommaWord - от них только проблемы, в частности,
      не работала раскраска по маске "%pathext%,*.lnk,*.pif,*.awk,*.pln",
      если %pathext% содержала ".pl", т.к. эта подстрока входила в "*.pln"
  06.07.2002 VVM
    ! Поправлена PathMayBeAbsolute
  18.06.2002 SVS
    ! Функция IsFolderNotEmpty переименована в CheckFolder и теперь умеет
      делать больше, чем возвращать состояние FolderNotEmpty, а именно
      константы:
       CHKFLD_NOTACCESS = -1  - нет доступа
       CHKFLD_EMPTY     =  0  - пусто
       CHKFLD_NOTEMPTY  =  1  - не пусто
      Кроме переименования функция так же упрощена - кусок, юзающий класс
     (для данной функции "сверхэнергоемкий") ScanTree заменен на вызовы
     обычных Win32-функций Find*File
  30.05.2002 SVS
    + ShellUpdatePanels и CheckUpdateAnotherPanel вынесены из delete.cpp
      в самостоятельные функции в mix.cpp
  28.05.2002 SVS
    + IsLocalPath()
    ! Поправлена PathMayBeAbsolute (исключен вызов функции strlen)
  25.05.2002 IS
    ! первый параметр у ConvertDate теперь ссылка на константу
  22.05.2002 SVS
    + IsDiskInDrive()
  29.04.2002 SVS
    - BugZ#239 - Folder shortcuts для несуществующих папок
  26.04.2002 SVS
    - BugZ#484 - Addons\Macros\Space.reg (про заголовки консоли)
  09.04.2002 SVS
    ! Уточнение для DriveLocalToRemoteName в целях юзания не только
      в меню выбора дисков.
  05.04.2002 SVS
    + CheckShortcutFolder() - стала самостоятельной
  26.03.2002 DJ
    ! ScanTree::GetNextName() принимает размер буфера для имени файла
  22.03.2002 SVS
    ! переезд функций FarBsearch, FarSscanf, FarSprintf, FarQsortEx,
      FarQsort, FarAtoi64, FarAtoi, FarItoa64, FarItoa из mix.cpp
      в farrtl.cpp
    ! переезд DeleteFileWithFolder(), DeleteDirTree() из mix.cpp в
      delete.cpp ибо здесь им место.
    ! Функции CharBufferToSmallWarn, RawConvertShortNameToLongName,
      ConvertNameToFull, ConvertNameToReal, ConvertNameToShort перехали
      из mix.cpp в cvtname.cpp (выделение в отдельный бомонд ;-))
  21.03.2002 DJ
    + GetDirInfo() отображается в заголовке консоли
  20.03.2002 SVS
    + FarGetCurDir()
    ! GetCurrentDirectory -> FarGetCurDir
  20.03.2002 SVS
    - BugZ#111 - проблемы с буквами диска.
  20.03.2002 DJ
    ! в GetDirInfo() вместо . покажем название того каталога, который сканируем
  01.03.2002 SVS
    ! Есть только одна функция создания временного файла - FarMkTempEx
  22.02.2002 SVS
    + Добавка функций ToPercent64() и filelen64()
  15.02.2002 IS
    + Новый параметр ChangeDir у FarChDir, если FALSE, то не меняем текущий
      диск, а только устанавливаем переменные окружения. По умолчанию - TRUE.
  15.02.2002 VVM
    ! Если строка не помещалась в буфер, то ExpandEnvironmetStr портила ее.
  15.02.2002 VVM
    ! Небольшие уточнения, фиксы
  05.02.2002 SVS
    ! У DeleteFileWithFolder параметр имеет суть const
  22.01.2002 IS
    ! Добавим немного интеллекта при обработке путей вида "буква:" в FarChDir.
  14.01.2002 SVS
    - BugZ#238 - Длинные пути
  14.01.2002 IS
    + FarChDir - установка нужного диска и каталога и установление
      соответствующей переменной окружения. В случае успеха возвращается
      не ноль.
  26.12.2001 SVS
    - ...когда ввели в масдае cd //host/share... получаем
      C:\\host\share
  06.12.2001 SVS
    ! PrepareDiskPath() - имеет доп.параметр - максимальный размер буфера
  03.12.2001 SVS
    - небольшая бага в RawConvertShortNameToLongName() - для каталогов,
      имеющих один символ! Например, имеем "D:\1", функция возвращает "D:\"
  03.12.2001 DJ
    - RawConvertShortNameToLongName() возвращала ошибку, если ей был
      передан путь, заканчивающийся на \
  02.12.2001 SVS
    ! Уточнение в RawConvertShortNameToLongName() для входной строки
      "C:\\", иначе лабуда полная получатся в параметре dest
    ! Рабочий вариант функции PrepareDiskPath() (осталось оптимизацию
      кода сделать)
  26.11.2001 SVS
    + PrepareDiskPath()
  15.11.2001 OT
    Исправление поведения cd c:\ на активном панельном плагине
  02.11.2001 SVS
    ! ConvertNameToReal() аналогично GetReparsePointInfo() - параметр Dest
      можно не указывать.
  28.10.2001 SVS
    ! ConvertNameToShort() - раз уж сказали короткие имена и т.к. мы сидим
      в DOS-наследии, то преобразуем имя в верхний регистр.
  21.10.2001 SVS
    + CALLBACK-функция для избавления от BugZ#85
  10.10.2001 SVS
    ! Часть кода, ответственная за "пусковик" внешних прилад вынесена
      в отдельный модуль execute.cpp
  05.10.2001 IS
    - Баг: не восстанавливался курсор после запуска идиотских программ, которые
      гасят курсор и не восстанавливают его после своего завершения.
  27.09.2001 IS
    - Левый размер при использовании strncpy
  26.09.2001 SVS
    ! Немного увеличим размер временного буфера в ConvertNameToReal()
  24.09.2001 SVS
    - бага в ConvertNameToReal() (вот же, дятел, блин :-((
  24.09.2001 SVS
    - бага в ConvertNameToReal().
      Алгоритм "вычисления" изменен - начинаем сканирование с
      конца, а не с начала строки - так будет вернее.
  19.09.2001 SVS
    - Эксперимент с применением RawConvertShortNameToLongName() в
      ConvertNameToReal() оказался неудачным :-(
  14.09.2001 SVS
    ! Для эксперимента в ConvertNameToReal() добавлен вызов функции
      RawConvertShortNameToLongName().
      Если будут сильные тормоза - отключить эту фигню
      (но с ней результат гарантирован!!!)
  12.09.2001 SVS
    + ConvertNameToReal() - преобразует Src в полный РЕАЛЬНЫЙ путь с
      учетом reparse point в Win2K; если OS ниже, то вызывается обычный
      ConvertNameToFull()
  07.09.2001 VVM
    + Перед проверкой на "гуевость" обработать переменные окружения.
  30.07.2001 IS
    !  Усовершенствование FarRecursiveSearch
       1. Проверяем правильность параметров.
       2. Теперь обработка каталогов не зависит от маски файлов
       3. Маска может быть стандартного фаровского вида (со скобками,
          перечислением и пр.). Может быть несколько масок файлов, разделенных
          запятыми или точкой с запятой, можно указывать маски исключения,
          можно заключать маски в кавычки. Короче, все как и должно быть :-)
  06.07.2001 IS
    + Оптимизация и дополнительная проверка в Add_PATHEXT
  04.07.2001 SVS
    ! Кусок закомменченного кода про логи будет полезен в syslog.cpp
  02.07.2001 IS
    + RawConvertShortNameToLongName
  25.06.2001 IS
    ! Внедрение const
  17.06.2001 IS
    - Баг в ExpandEnvironmentStr: не учитывалось то, что
      ExpandEnvironmentStrings возвращает значения переменных окружения в ANSI
      Теперь происходит соответствующая перекодировка, чтобы
      ExpandEnvironmentStr возвращала строки в OEM, а не в смешанной кодировке.
  14.06.2001 KM
    ! Откючение лишнего кода. Потом выкину совсем.
  08.06.2001 SVS
    + Напомним ФАРу после исполнения чего-то внешнего, что не плохобы учесть
      размеры видеобуфера.
  30.05.2001 SVS
    ! ShellCopy::CreatePath выведена из класса в отдельню функцию CreatePath()
  21.05.2001 OT
    ! Задисаблено изменение размера консоли в Execute()
  17.05.2001 SKV
    + при detach console старое окно теперь "забывает" hotkey
    - если при detach console нажаты "лишние" ctrl,alt,shift,
      то срабатывать не должно.
  06.05.2001 DJ
    ! перетрях #include
  29.04.2001 ОТ
    + Внедрение NWZ от Третьякова
  01.05.2001 SVS
    ! mktemp - создаем имена временных файлов в верхнем регистре (strupr)
  28.04.2001 VVM
    + GetSubstName() принимает тип носителя
  24.04.2001 SVS
    - Бага с кавычками (с подачи DJ)
  13.04.2001 VVM
    + Флаг CREATE_DEFAULT_ERROR_MODE при CreateProcess.
  08.06.2001 SVS
    ! В Add_PATHEXT() используем модифицированную GetCommaWord().
    ! ExpandPATHEXT() выкинем за ненадобностью.
    ! В ExpandEnvironmentStr(), ConvertNameToFull()
      применяем alloca() вместо malloc().
  06.06.2001 SVS
    + ExpandPATHEXT() - Расширение переменных среды с учетом %PATHEXT%
      При этом значение %PATHEXT% приводим к ФАРовскому формату.
  03.04.2001 SVS
    + Add_PATHEXT()
  30.03.2001 SVS
    + FarGetLogicalDrives - оболочка вокруг GetLogicalDrives, с учетом
      скрытых логических дисков
  24.03.2001 tran
    + qsortex
  20.03.2001 tran
    + FarRecursiveSearch - добавлен void *param
  20.03.2001 SKV
    - еще один фикс с размером консоли при детаче.
  16.03.2001 SVS
    + Функция DriveLocalToRemoteName() - Получить из имени диска RemoteName
  15.03.2001 SKV
    - фикс с размером консоли при detach far console.
  12.03.2001 SVS
    ! Коррекция в связи с изменениями в классе int64
  02.03.2001 IS
    ! Переписал ExpandEnvironmentStr, ибо не понравилась она мне - могла быть
      источником багов.
  21.02.2001 VVM
    ! GetFileOwner()::Под НТ/2000 переменная Needed устанавливается
      независимо от результат.
  14.02.2001 SKV
    ! доработка фитчи отделения консоли.
  12.02.2001 SKV
    + Отделение Фар-овской консоли от неинтерактивного
       процесса в ней запущенного.
  23.01.2001 SVS
    ! ExpandEnvironmentStr снова динамически выделяет память...
    ! Уточнение факта посылки VK_F16 как виртуального кода!
  23.01.2001 SVS
    ! Сделаем статичный массив символов временного буфера в
      ExpandEnvironmentStr()
  21.01.2001 SVS
    ! Функция GetString - переехала в stddlg.cpp
  05.01.2001 SVS
    ! Функция GetSubstName - переехала в flink.cpp
    ! Функции InsertCommas, PointToName, GetPathRoot, CmpName, ConvertWildcards,
      QuoteSpace, QuoteSpaceOnly, TruncStr, TruncPathStr, Remove???Spaces,
      HiStrlen, AddEndSlash, NullToEmpty, CenterStr, GetCommaWord,
      RemoveHighlights, IsCaseMixed, IsCaseLower, Unquote,
      переехали в strmix.cpp
  03.01.2001 SVS
    ! Функции SetFarTitle, ScrollBar, ShowSeparator
      переехали в interf.cpp
    ! Функции MkLink, GetNumberOfLinks
      переехали в flink.cpp
  03.01.2001 SVS
    ! ConvertDate - динамически получает форматы (если ее об этом попросить)
  22.12.2000 SVS
    ! Немного разгрузим файл:
      KeyNameToKey -> keyboard.cpp
      InputRecordToKey -> keyboard.cpp
      KeyToText -> keyboard.cpp
      Все, что касается SysLog -> syslog.cpp
      Eject -> eject.cpp
      Xlat  -> xlat.cpp
      *Clipboard* -> clipboard.cpp
  21.12.2000 SVS
    + KEY_DTDAY, KEY_DTMONTH, KEY_DTYEAR - небольшое дополнение к макросам :-)
  14.12.2000 SVS
    + Добавлен код для выполнения Eject съемных носителей для
      Win9x & WinNT/2K
  06.12.2000 IS
    ! Теперь функция AddEndSlash работает с обоими видами слешей, также
      происходит изменение уже существующего конечного слеша на такой, который
      встречается чаще.
  24.11.2000 SVS
    ! XLat сделаем несколько совершенной :-))) Что бы не зависеть от размера!
  08.11.2000 SVS
    - Бага в функции ConvertNameToFull.
  04.11.2000 SVS
    + XLAT_SWITCHKEYBBEEP в XLat перекодировке.
    ! несколько проверок в FarBsearch, InputRecordToKey, FarQsort, FarSprintf,
      FarAtoi64, FarAtoi, FarItoa64, FarItoa, KeyNameToKey, KeyToText,
      FarSscanf, AddEndSlash, RemoveTrailingSpaces, RemoveLeadingSpaces,
      TruncStr, TruncPathStr, QuoteSpaceOnly
  03.11.2000 OT
    ! Исправление предыдущего способа проверки
  02.11.2000 OT
    ! Введение проверки на длину буфера, отведенного под имя файла.
  26.10.2000 SVS
    ! У MkTemp префикс нафиг ненужно переводить в ANSI
  25.10.2000 SVS
    ! Уточнения OpenLogStream
    ! У MkTemp префикс может быть и по русски, так что переведем в ANSI
  25.10.2000 IS
    ! Заменил mktemp на вызов соответствующей апишной функции, т.к. предыдущий
      вариант приводил к ошибке (заметили на Multiarc'е)
  23.10.2000 SVS
    ! Узаконненая версия SysLog :-)
      Задолбался я ставить комметарии после AT ;-)
  20.10.2000 SVS
    ! ProcessName: Flags должен быть DWORD, а не int
  20.10.2000 SVS
    + SysLog
  16.10.2000 tran
    + PasteFromClipboardEx(int max);
  09.10.2000 IS
    + Новые функции для обработки имени файла: ProcessName, ConvertWildcards
  27.09.2000 skv
    + DeleteBuffer. Удалять то, что вернул PasteFromClipboard.
  24.09.2000 SVS
    + Функция KeyNameToKey - получение кода клавиши по имени
      Если имя не верно или нет такого - возвращается -1
  20.09.2000 SVS
    ! удалил FolderPresent (блин, совсем крышу сорвало :-(
  20.09.2000 SVS
    ! Уточнения в функции Xlat()
  19.09.2000 SVS
    + функция FolderPresent - "сужествует ли каталог"
  19.09.2000 SVS
    + IsFolderNotEmpty немного "ускорим"
    ! Функция FarMkTemp - уточнение!
  18.09.2000 skv
    + в IsCommandExeGUI проверка на наличие .bat и .cmd в тек. директории
  18.09.2000 SVS
    ! FarRecurseSearch -> FarRecursiveSearch
    ! Исправление ошибочки в функции FarMkTemp :-)))
  14.09.2000 SVS
    + Функция FarMkTemp - получение имени временного файла с полным путем.
  10.09.2000 SVS
    ! KeyToText возвращает BOOL
  10.09.2000 tran
    + FSF/FarRecurseSearch
  10.09.2000 SVS
    ! Наконец-то нашлось приемлемое имя для QWERTY -> Xlat.
  08.09.2000 SVS
    - QWERTY - ошибочка вралась :-)))
    ! QWERTY -> Transliterate
    ! QWED_SWITCHKEYBLAYER -> EDTR_SWITCHKEYBLAYER
    + KEY_CTRLSHIFTDEL, KEY_ALTSHIFTDEL
  07.09.2000 SVS
    + Функция GetFileOwner тоже доступна плагинам :-)
    + Функция GetNumberOfLinks тоже доступна плагинам :-)
    + Оболочка FarBsearch для плагинов (функция bsearch)
  05.09.2000 SVS 1.19
    + QWERTY - функция перекодировки QWERTY<->ЙЦУКЕН
  31.08.2000 tran 1.18
    + InputRecordToKey
  29.08.2000 SVS
    - Неверно отрабатывала функция FarSscanf
  28.08.2000 SVS
    ! уточнение для FarQsort
    ! Не FarAtoa64, но FarAtoi64
    + FarItoa64
  25.08.2000 SVS
    ! Функция GetString может при соответсвующем флаге (FIB_BUTTONS) отображать
      сепаратор и кнопки <Ok> & <Cancel>
  24.08.2000 SVS
    + В функции KeyToText добавлена обработка клавиш
      KEY_CTRLALTSHIFTPRESS, KEY_CTRLALTSHIFTRELEASE
  09.08.2000 SVS
    + FIB_NOUSELASTHISTORY - флаг для использовании пред значения из
      истории задается отдельно!!! (int function GetString())
  01.08.2000 SVS
    ! Функция ввода строки GetString имеет один параметр для всех флагов
    ! дополнительный параметра у KeyToText - размер данных
  31.07.2000 SVS
    ! Функция GetString имеет еще один параметр - расширять ли переменные среды!
    ! Если в GetString указан History, то добавляется еще и DIF_USELASTHISTORY
  25.07.2000 SVS
    ! Функция KeyToText сделана самосотоятельной - вошла в состав FSF
    ! Функции, попадающие в разряд FSF должны иметь WINAPI!!!
  23.07.2000 SVS
    ! Функция GetString имеет вызов WINAPI
  18.07.2000 tran 1.08
    ! изменил типа аргумента у ScrollBar
  13.07.2000 IG
    - в VC, похоже, нельзя сказать так: 0x4550 == 'PE', надо
      делать проверку побайтово (функция IsCommandExeGUI)
  13.07.2000 SVS
    ! Некоторые коррекции при использовании new/delete/realloc
  11.07.2000 SVS
    ! Изменения для возможности компиляции под BC & VC
  07.07.2000 tran
    - trap under win2000, or console height > 210
      bug was in ScrollBar ! :)))
  07.07.2000 SVS
    + Дополнительная функция обработки строк: RemoveExternalSpaces
    ! Изменен тип 2-х функций:
        RemoveLeadingSpaces
        RemoveTrailingSpaces
      Возвращают char*
  05.07.2000 SVS
    + Добавлена функция ExpandEnvironmentStr
  28.06.2000 IS
    ! Функция Unquote стала универсальной
  25.06.2000 SVS
    ! Подготовка Master Copy
    ! Выделение в качестве самостоятельного модуля
*/

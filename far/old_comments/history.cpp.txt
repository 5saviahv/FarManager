/*
Modify:
  13.04.2006 SVS
    ! Если в истории файл редактировался, но мы его не нашли, предложим создать
    ! Проверку каталога делаем только в том случае, если ОН реальный (LastStr[StrPos].Type == 0, для плагинов это = 1)
    + При добавлении в историю каталогов префиксы гоним не как заголовок, а... как префиксы.
  04.04.2006 SVS
    - TI#52. Если значение "HistoryCount" меньше... в общем не то что надо стояло :-(
    - CtrlEnter на несуществующем файле неправильно работал
    + При выборе файла (клавишей Enter) из истории просмотра для отсутствующего
      файл предлагается создать этот файл. Работает только, если файл открывался
      в режиме редактирования.
  28.03.2006 WARP
    - Некоррекнтно обрезались строки в истории просмотра.
  26.10.2005 SVS
    - Mantis#35: Проблемы с History
    ! Так же, если очистили историю, то соответствующая ветка из реестра удаляется.
  13.07.2005 SVS
    - BugZ#1352 - FAR crashes with empty Folders history
  01.07.2005 SVS
    - трабла с историей
    + добавка в виде Ctrl-R для виьювера/фолдеров - Обновить список, удалив недоступные файлы/папки
  04.11.2004 SVS
    - Alt+F11 F3/F4: по ф3 ничего не происходит, по ф4 - просмотр
  25.10.2004 SVS
    + Реакция на Ctrl-Shift-Enter
  06.08.2004 SKV
    ! see 01825.MSVCRT.txt
  15.03.2004 SVS
    ! LastStr должна быть указателем! (в патче от 18.12.2003 забыл про это)
  18.12.2003 SVS
    + HistoryCount - размер истории
  21.01.2003 SVS
    + xf_malloc,xf_realloc,xf_free - обертки вокруг malloc,realloc,free
      Просьба блюсти порядок и прописывать именно xf_* вместо простых.
  08.10.2002 SVS
    - BugZ#675 - Неправильно вычисляется ширина меню со списком окон
  20.09.2002 SVS
    - BugZ#637 - delete history do not work correctly
    - BugZ#638 - command line history
  24.05.2002 SVS
    + Дублирование Numpad-клавиш
  25.04.2002 IS
    ! внедрение const
  18.04.2002 SVS
    - BugZ#463 - Ext.: -> Edit: (а про "Ext." то я и забыл :-()
  18.03.2002 SVS
    + ReloadTitle() и EqualType()
    ! Titles для истории редактирования/просмотра не сохраняем,
      соответственно и не проверяем Title при поиске дубликатов,
      только по файлу и типу.
    + F3/Numpad 5 и F4
    ! Переделан Select - зачем держать массив, если меню само умеет кое-что :-)
  06.03.2002 SVS
    ! Косметика имени параметра у FreeHistory() - рука дрогнула :-)
    - Жучара с strcpy()
    ! Устранение утечки памяти при добавлении и удалении
    ! У функций Истории появились доп.параметры
    - ну и, наконец, устранен полный бардак с самим механизмом.
  26.02.2002 SVS
    ! Для пустого списка (Items > 1) ничего не делаем
  25.01.2002 SVS
    - мааааааааааасссссссссссссссссддддддддддддаааааааааааааааааайййййййййй!!!!
  25.01.2002 SVS
    ! Компонента Name теперь динамическая. Размер в масдае - max 511 байт.
      В NT - сколько есть. Т.е. обрезаение строк будет только в масдае.
  16.01.2002 VVM
    + AddToHistory - новый параметр
      SaveForbid - принудительно запретить запись добавляемой строки.
      Используется на панели плагина
  15,11,2001 SVS
    + Тип истории.
  08.11.2001 SVS
    ! Отмена пред.патча - есть неразрешимые вопросы с макросами.
  06.11.2001 IS
    ! Не добавляем в меню пустую строчку, т.к. непонятно, зачем она нужна
      вообще.
    ! Меню теперь у нас с прокруткой (Wrap).
  27.09.2001 IS
    - Левый размер при использовании strncpy
  26.07.2001 SVS
    ! VFMenu уничтожен как класс
  24.07.2001 SVS
    ! Учтем новую опцию Opt.Confirm.HistoryClear при очистки истории
  23.07.2001 VVM
    + Спросить подтверждение перед очищением истории
  18.07.2001 OT
    ! VFMenu
  06.06.2001 SVS
    ! Mix/Max
  04.06.2001 SVS
    ! 64 -> HISTORY_COUNT
  21.05.2001 SVS
    ! struct MenuData|MenuItem
      Поля Selected, Checked, Separator и Disabled преобразованы в DWORD Flags
    ! Константы MENU_ - в морг
  06.05.2001 DJ
    ! перетрях #include
  09.04.2001 SVS
    + Фича - копирование из истории строки в Clipboard
  11.02.2001 SVS
    ! Несколько уточнений кода в связи с изменениями в структуре MenuItem
  09.01.2001 SVS
    - Бага с CmdHistoryRule=1
  11.07.2000 SVS
    ! Изменения для возможности компиляции под BC & VC
  25.06.2000 SVS
    ! Подготовка Master Copy
    ! Выделение в качестве самостоятельного модуля
*/

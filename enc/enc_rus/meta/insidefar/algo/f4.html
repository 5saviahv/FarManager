<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<title>&quot;Редактор&quot; (Edit/F4)</title>
<meta http-equiv="Content-Type" Content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../styles/styles.css">
<script language="javascript" src='../../links.js' type="text/javascript"></script>
</head>

<body>

<h1>&quot;Редактор&quot; (Edit/F4)</h1>
<div class="navbar"><a href="index.html">содержание</a></div>

<div class="shortdescr">Когда пользователь нажимает F4 на файле, то FAR выполняет следующие действия:</div>

<h3>Панель плагина</h3>
<div class="descr">
  Выполняется, если плагин при вызове <a href="../../exported_functions/getopenplugininfo.html">GetOpenPluginInfo</a>
  заполнил поле <dfn>HostFile</dfn> структуры <a href="../../structures/openplugininfo.html">OpenPluginInfo</a>:
  <ul>
    <li>FAR создает TEMP-каталог.
    <li>Вызывается <a href="../../exported_functions/getfiles.html">GetFiles</a> с параметрами: один элемент PanelItem с требуемым файлом,
    ItemsNumber=1, DestPath=путь к TEMP-каталогу (без заключительного '\'), OpMode=OPM_SILENT|OPM_EDIT;
    плагин по указанному пути "выкладывает" требуемый файл и отдает управление FAR.
    Плагин должен в указанный временный каталог "выложить" файл без подкаталогов.
    <li>FAR открывает файл из TEMP-каталога в редакторе.
    <li>После выхода из редактора, если файл был модифицирован, вызывается <a href="../../exported_functions/putfiles.html">PutFiles</a>
    с параметрами: один элемент PanelItem с требуемым файлом,
    ItemsNumber=1, Move=0, OpMode=OPM_EDIT. Плагин "забирает" файл из временного каталога на свою панель.
    <li>FAR удаляет временный файл с временным каталогом и обновляет панели.
  </ul>
</div>

</body>

</html>
